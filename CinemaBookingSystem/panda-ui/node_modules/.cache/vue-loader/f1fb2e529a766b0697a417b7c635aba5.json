{"remainingRequest":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\src\\views\\role\\RoleInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\src\\views\\role\\RoleInfo.vue","mtime":1715002105632},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002096653},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1715002095676},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002096653},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1715002104692}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJSb2xlSW5mbyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICBxdWVyeTogJycsDQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiA3DQogICAgICB9LA0KICAgICAgcm9sZUxpc3Q6IFtdLA0KICAgICAgcmVzb3VyY2VMaXN0OiBbXSwNCiAgICAgIC8v5qCR5b2i5o6n5Lu255qE5bGe5oCn5a+56LGhDQogICAgICB0cmVlUHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsDQogICAgICAgIGxhYmVsOiAnbmFtZScNCiAgICAgIH0sDQogICAgICAvL+m7mOiupOWLvumAieeahOadg+mZkOWIl+ihqA0KICAgICAgZGVmS2V5czogW10sDQogICAgICB0b3RhbDogMCwNCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/mt7vliqDop5LoibLnmoTooajljZXmlbDmja4NCiAgICAgIGFkZEZvcm06IHsNCiAgICAgICAgcm9sZU5hbWU6ICcnLA0KICAgICAgICByb2xlRGVzYzogJycNCiAgICAgIH0sDQogICAgICAvL+mqjOivgeihqOWNleinhOWImeWvueixoQ0KICAgICAgYWRkRm9ybVJ1bGVzOiB7DQogICAgICAgIHJvbGVOYW1lOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCNJywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICByb2xlRGVzYzogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsuaPj+i/sCcsIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGVkaXRGb3JtOiB7DQogICAgICAgIHJvbGVJZDogbnVsbCwNCiAgICAgICAgcm9sZU5hbWU6ICcnLA0KICAgICAgICByb2xlRGVzYzogJycNCiAgICAgIH0sDQogICAgICBjaGVja0FibGVJZDoge30sDQogICAgICBlZGl0Rm9ybVJ1bGVzOiB7DQogICAgICAgIHJvbGVOYW1lOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCNJywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICByb2xlRGVzYzogWw0KICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsuaPj+i/sCcsIHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwNCiAgICAgIC8v5YiG6YWN5p2D6ZmQ5a+56K+d5qGG55qE5pi+56S65LiO6ZqQ6JePDQogICAgICBzZXRSaWdodERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/lvZPliY3liIbphY3mnYPpmZDnmoRpZA0KICAgICAgcm9sZUlkOiAnJw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldFJvbGVMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldFJvbGVMaXN0KCkgew0KICAgICAgY29uc3Qge2RhdGE6IHJlc30gPSBhd2FpdCBheGlvcy5nZXQoJ3N5c1JvbGUnLCB7cGFyYW1zOiB0aGlzLnF1ZXJ5SW5mb30pDQogICAgICB0aGlzLnJvbGVMaXN0ID0gcmVzLmRhdGE7DQogICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsDQogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTnVtID0gcmVzLnBhZ2VOdW0NCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gcmVzLnBhZ2VTaXplDQogICAgfSwNCiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gbmV3U2l6ZQ0KICAgICAgdGhpcy5nZXRSb2xlTGlzdCgpDQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VOdW0gPSBuZXdQYWdlDQogICAgICB0aGlzLmdldFJvbGVMaXN0KCkNCiAgICB9LA0KICAgIC8vIOebkeWQrOa3u+WKoOWvueivneahhueahOWFs+mXreS6i+S7tg0KICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi5yZXNldEZpZWxkcygpDQogICAgfSwNCiAgICAvLyDnm5HlkKzmt7vliqDmjInpkq4NCiAgICBhZGRSb2xlKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuDQogICAgICAgIC8v6aKE5qCh6aqM5oiQ5Yqf77yM5Y+R572R57uc6K+35rGCDQoNCiAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICBjb25zdCB7ZGF0YTogcmVzfSA9IGF3YWl0IGF4aW9zLnBvc3QoJ3N5c1JvbGUnLCBKU09OLnN0cmluZ2lmeShfdGhpcy5hZGRGb3JtKSkNCiAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpDQogICAgICAgIC8v6ZqQ6JeP5re75Yqg5a+56K+d5qGGDQogICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgIC8v6YeN5paw5Yqg6L295YiX6KGoDQogICAgICAgIGF3YWl0IHRoaXMuZ2V0Um9sZUxpc3QoKQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOinkuiJsuS/oeaBr+aIkOWKn++8gScpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5pi+56S65L+u5pS55a+56K+d5qGG77yM5Zue5pi+5pWw5o2uDQogICAgYXN5bmMgc2hvd0VkaXREaWFsb2coaWQpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdzeXNSb2xlLycgKyBpZCkudGhlbihyZXNwID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcCkNCiAgICAgICAgX3RoaXMuZWRpdEZvcm0gPSByZXNwLmRhdGEuZGF0YQ0KICAgICAgfSkNCiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICAvLyDnm5HlkKzkv67mlLnlr7nor53moYbnmoTlhbPpl63kuovku7YNCiAgICBlZGl0RGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpDQogICAgfSwNCiAgICAvLyDkv67mlLnop5LoibLkv6Hmga/lubbmj5DkuqQNCiAgICBlZGl0Um9sZSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gew0KICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXMNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuDQogICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucHV0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICBjb25zdCB7ZGF0YTogcmVzfSA9IGF3YWl0IGF4aW9zLnB1dCgnc3lzUm9sZS8nLCBKU09OLnN0cmluZ2lmeShfdGhpcy5lZGl0Rm9ybSkpDQogICAgICAgIGlmIChyZXMuY29kZSAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQ0KDQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICBhd2FpdCB0aGlzLmdldFJvbGVMaXN0KCkNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnop5LoibLkv6Hmga/miJDlip/vvIEnKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOebkeWQrOWkmumAieahhuWPmOWMlg0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWwNCiAgICB9LA0KICAgIC8vIOaJuemHj+WIoOmZpOWJjeagoemqjA0KICAgIGFzeW5jIGlzQWJsZU11bHRpcGxlRGVsZXRlKCkgew0KICAgICAgbGV0IGFibGVNdWx0aXBsZURlbGV0ZSA9IHRydWUNCiAgICAgIGxldCBpZHMgPSAnJw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHRoaXMuY2hlY2tBYmxlSWQucm9sZUlkID0gdGhpcy5tdWx0aXBsZVNlbGVjdGlvbltpXS5yb2xlSWQNCiAgICAgICAgY29uc3QgeyBkYXRhIDogcmVzIH0gPSBhd2FpdCBheGlvcy5nZXQoJ3N5c1VzZXInLCB7cGFyYW1zOiB0aGlzLmNoZWNrQWJsZUlkfSkNCiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAgIGlkcyArPSB0aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLnJvbGVJZCArICcgJw0KICAgICAgICAgIGFibGVNdWx0aXBsZURlbGV0ZSA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChhYmxlTXVsdGlwbGVEZWxldGUgPT09IGZhbHNlKSB7DQogICAgICAgIHRoaXMuJGFsZXJ0KCfmirHmrYnvvIHmnInnlKjmiLfkuI7lvZPliY3opoHliKDpmaTnmoTop5LoibLnm7jlhbPogZTvvIzkuI3og73liKDpmaTop5LoibLkv6Hmga/jgIJcbicgKyAn5a+86Ie05byC5bi455qE6KeS6Imy57yW5Y+35Li6OiAnICsgaWRzLCAn5om56YeP5Yig6Zmk6K+35rGC5byC5bi46YCa55+lJywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5oiR55+l6YGT5LqGJywNCiAgICAgICAgICBjYWxsYmFjazogYWN0aW9uID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcm9sZScpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGF3YWl0IHRoaXMubXVsdGlwbGVEZWxldGUoKQ0KICAgIH0sDQogICAgYXN5bmMgbXVsdGlwbGVEZWxldGUoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXMNCiAgICAgIC8v6K+i6Zeu55So5oi35piv5ZCm56Gu6K6k5Yig6ZmkDQogICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6L+Z5Lqb5p2h55uuLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKQ0KDQogICAgICAvLyDnlKjmiLfnoa7orqTliKDpmaQsIHJlc3DkuLrlrZfnrKbkuLIiY29uZmlybSINCiAgICAgIC8vIOeUqOaIt+WPlua2iOWIoOmZpO+8jHJlc3DkuLrlrZfnrKbkuLIiY2FuY2VsIg0KICAgICAgaWYgKHJlc3AgPT09ICdjYW5jZWwnKSB7DQogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQnKQ0KICAgICAgfQ0KDQogICAgICBsZXQgaWRzID0gW10NCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgaWRzLnB1c2goZGF0YS5yb2xlSWQpDQogICAgICB9KQ0KICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlDQogICAgICBhd2FpdCBheGlvcy5kZWxldGUoJ3N5c1JvbGUvJyArIGlkcykudGhlbihyZXNwID0+IHsNCiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsNCiAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBpZiAoIXN1Y2Nlc3MpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfmibnph4/liKDpmaTotYTmupDkv6Hmga/lpLHotKXvvIEnKQ0KICAgICAgYXdhaXQgdGhpcy5nZXRSb2xlTGlzdCgpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aJuemHj+WIoOmZpOi1hOa6kOS/oeaBr+aIkOWKn++8gScpDQogICAgfSwNCiAgICBhc3luYyBpc0FibGVEZWxldGUoaWQpIHsNCiAgICAgIHRoaXMuY2hlY2tBYmxlSWQucm9sZUlkID0gaWQNCiAgICAgIGF3YWl0IGF4aW9zLmdldCgnc3lzVXNlcicsIHtwYXJhbXM6IHRoaXMuY2hlY2tBYmxlSWR9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b3RhbCkNCiAgICAgICAgbGV0IHVzZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhDQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID09PSAwKSB7DQogICAgICAgICAgY29uc29sZS5sb2coJ+epuueahOWPr+aUuScpDQogICAgICAgICAgdGhpcy5kZWxldGVSb2xlQnlJZChpZCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygn5Yig6Zmk5YmN5Yik5pat5pyJ55u45YWz6IGU55qEdXNlcicpDQogICAgICAgICAgbGV0IGlkcyA9ICcnDQogICAgICAgICAgZm9yIChsZXQgdGVtcCBvZiB1c2Vycykgew0KICAgICAgICAgICAgY29uc29sZS5sb2codGVtcCkNCiAgICAgICAgICAgIGlkcyArPSB0ZW1wLnVzZXJJZCsnICcNCiAgICAgICAgICB9DQogICAgICAgICAgY29uc29sZS5sb2coJ3VzZXJzIGlzIDogJytpZHMpDQogICAgICAgICAgdGhpcy4kYWxlcnQoJ+aKseatie+8geacieeUqOaIt+S4juW9k+WJjeimgeWIoOmZpOeahOinkuiJsuebuOWFs+iBlO+8jOS4jeiDveWIoOmZpOinkuiJsuS/oeaBr+OAglxuJysn5a+86Ie05byC5bi455qE55So5oi357yW5Y+35Li6OiAnK2lkcywgJ+WIoOmZpOivt+axguW8guW4uOmAmuefpScsIHsNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5oiR55+l6YGT5LqGJywNCiAgICAgICAgICAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3JvbGUnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+agueaNrmlk5Yig6Zmk5a+55bqU55qE6LWE5rqQ5L+h5oGvDQogICAgYXN5bmMgZGVsZXRlUm9sZUJ5SWQocm9sZUlkKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXMNCiAgICAgIC8v6K+i6Zeu55So5oi35piv5ZCm56Gu6K6k5Yig6ZmkDQogICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5p2h55uuLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKQ0KDQogICAgICAvLyDnlKjmiLfnoa7orqTliKDpmaQsIHJlc3DkuLrlrZfnrKbkuLIiY29uZmlybSINCiAgICAgIC8vIOeUqOaIt+WPlua2iOWIoOmZpO+8jHJlc3DkuLrlrZfnrKbkuLIiY2FuY2VsIg0KICAgICAgY29uc29sZS5sb2cocmVzcCkNCiAgICAgIGlmIChyZXNwID09PSAnY2FuY2VsJykgew0KICAgICAgICByZXR1cm4gX3RoaXMuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6ZmkJykNCiAgICAgIH0NCg0KICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlDQogICAgICBhd2FpdCBheGlvcy5kZWxldGUoJ3N5c1JvbGUvJyArIHJvbGVJZCkudGhlbihyZXNwID0+IHsNCiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsNCiAgICAgICAgICBzdWNjZXNzID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIGlmICghc3VjY2VzcykgcmV0dXJuIF90aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTop5LoibLkv6Hmga/lpLHotKXvvIEnKQ0KICAgICAgYXdhaXQgdGhpcy5nZXRSb2xlTGlzdCgpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOinkuiJsuS/oeaBr+aIkOWKn++8gScpDQogICAgfSwNCiAgICAvL+WxleekuuWIhumFjeadg+mZkOWvueivneahhg0KICAgIGFzeW5jIHNob3dTZXRSaWdodERpYWxvZyhyb2xlKSB7DQogICAgICB0aGlzLnJvbGVJZCA9IHJvbGUucm9sZUlkDQogICAgICBjb25zdCB7ZGF0YTogcmVzfSA9IGF3YWl0IGF4aW9zLmdldCgnc3lzUmVzb3VyY2UvdHJlZScpDQogICAgICB0aGlzLnJlc291cmNlTGlzdCA9IHJlcy5kYXRhDQogICAgICBjb25zb2xlLmxvZyhyb2xlKQ0KICAgICAgYXdhaXQgdGhpcy5nZXRMZWFmS2V5cyhyb2xlLCB0aGlzLmRlZktleXMpDQogICAgICBjb25zb2xlLmxvZygnZGVmS2V5cycgKyB0aGlzLmRlZktleXMpDQogICAgICB0aGlzLnNldFJpZ2h0RGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIC8v6I635Y+W6KeS6Imy5a+55bqU55qE5omA5pyJ5YW35L2T5p2D6ZmQaWQNCiAgICBnZXRMZWFmS2V5cyhub2RlLCBhcnIpIHsNCiAgICAgIGlmKCFub2RlKSByZXR1cm4NCiAgICAgIGlmICghbm9kZS5jaGlsZHJlbikgew0KICAgICAgICByZXR1cm4gYXJyLnB1c2gobm9kZS5pZCkNCiAgICAgIH0NCg0KICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5nZXRMZWFmS2V5cyhpdGVtLCBhcnIpKQ0KICAgIH0sDQogICAgLy/lhbPpl63liIbphY3mnYPpmZDlr7nor53moYbvvIzliLfmlrBkZWZLZXlzDQogICAgc2V0UmlnaHREaWFsb2dDbG9zZWQoKSB7DQogICAgICB0aGlzLmRlZktleXMgPSBbXQ0KICAgIH0sDQogICAgYXN5bmMgc3VibWl0UmlnaHRzKCkgew0KICAgICAgY29uc3Qga2V5cyA9IFsNCiAgICAgICAgICAuLi50aGlzLiRyZWZzLnRyZWVSZWYuZ2V0Q2hlY2tlZEtleXModHJ1ZSkNCiAgICAgIF0NCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgY29uc3Qge2RhdGEgOiByZXN9ID0gYXdhaXQgYXhpb3MucG9zdCgnc3lzUm9sZS8nICsgX3RoaXMucm9sZUlkLCBKU09OLnN0cmluZ2lmeShrZXlzKSkNCiAgICAgIGlmKHJlcy5jb2RlICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLmm7TmlrDmnYPpmZDlpLHotKXvvIEiKQ0KDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuabtOaWsOadg+mZkOaIkOWKn++8gSIpDQogICAgICBhd2FpdCB0aGlzLmdldFJvbGVMaXN0KCkNCiAgICAgIHRoaXMuc2V0UmlnaHREaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["RoleInfo.vue"],"names":[],"mappings":";AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"RoleInfo.vue","sourceRoot":"src/views/role","sourcesContent":["<template>\r\n  <div>\r\n    <!--面包屑导航区域-->\r\n    <div class=\"board\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>角色信息管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"2.5\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加角色</el-button>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"danger\" @click=\"isAbleMultipleDelete\">批量删除</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-table :data=\"roleList\" border stripe @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column prop=\"roleId\" label=\"角色编号\" width=\"145\"></el-table-column>\r\n        <el-table-column prop=\"roleName\" label=\"角色名称\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"roleDesc\" label=\"角色描述\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip effect=\"dark\" content=\"修改角色信息\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"\r\n                         @click=\"showEditDialog(scope.row.roleId)\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip effect=\"dark\" content=\"删除角色\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                         @click=\"isAbleDelete(scope.row.roleId)\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip effect=\"dark\" content=\"分配权限\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\r\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\"\r\n                         @click=\"showSetRightDialog(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!--分页区域-->\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pageNum\"\r\n          :page-sizes=\"[5, 7, 9]\"\r\n          :page-size=\"queryInfo.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n\r\n    </el-card>\r\n\r\n    <!--添加角色对话框-->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n      <!--内容主题区-->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"addForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"addForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!--底部区域-->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"addRole\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!--修改角色对话框-->\r\n    <el-dialog title=\"修改角色\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\">\r\n        <el-form-item label=\"角色编号\" prop=\"roleId\">\r\n          <el-input v-model=\"editForm.roleId\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"editForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"editForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editRole\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配权限对话框 -->\r\n    <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"setRightDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"setRightDialogClosed\">\r\n      <!-- 树形控件 -->\r\n      <el-tree :data=\"resourceList\"\r\n               :props=\"treeProps\"\r\n               node-key=\"id\"\r\n               :default-checked-keys=\"defKeys\"\r\n               ref=\"treeRef\"\r\n               show-checkbox\r\n               default-expand-all></el-tree>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitRights\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nexport default {\r\n  name: \"RoleInfo\",\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        query: '',\r\n        pageNum: 1,\r\n        pageSize: 7\r\n      },\r\n      roleList: [],\r\n      resourceList: [],\r\n      //树形控件的属性对象\r\n      treeProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      //默认勾选的权限列表\r\n      defKeys: [],\r\n      total: 0,\r\n      addDialogVisible: false,\r\n      //添加角色的表单数据\r\n      addForm: {\r\n        roleName: '',\r\n        roleDesc: ''\r\n      },\r\n      //验证表单规则对象\r\n      addFormRules: {\r\n        roleName: [\r\n          {required: true, message: '请输入角色名', trigger: 'blur'}\r\n        ],\r\n        roleDesc: [\r\n          {required: true, message: '请输入角色描述', trigger: 'blur'}\r\n        ]\r\n      },\r\n      editDialogVisible: false,\r\n      editForm: {\r\n        roleId: null,\r\n        roleName: '',\r\n        roleDesc: ''\r\n      },\r\n      checkAbleId: {},\r\n      editFormRules: {\r\n        roleName: [\r\n          {required: true, message: '请输入角色名', trigger: 'blur'}\r\n        ],\r\n        roleDesc: [\r\n          {required: true, message: '请输入角色描述', trigger: 'blur'}\r\n        ]\r\n      },\r\n      multipleSelection: [],\r\n      //分配权限对话框的显示与隐藏\r\n      setRightDialogVisible: false,\r\n      //当前分配权限的id\r\n      roleId: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getRoleList()\r\n  },\r\n  methods: {\r\n    async getRoleList() {\r\n      const {data: res} = await axios.get('sysRole', {params: this.queryInfo})\r\n      this.roleList = res.data;\r\n      this.total = res.total\r\n      this.queryInfo.pageNum = res.pageNum\r\n      this.queryInfo.pageSize = res.pageSize\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pageSize = newSize\r\n      this.getRoleList()\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageNum = newPage\r\n      this.getRoleList()\r\n    },\r\n    // 监听添加对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 监听添加按钮\r\n    addRole() {\r\n      const _this = this;\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        //预校验成功，发网络请求\r\n\r\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\r\n        const {data: res} = await axios.post('sysRole', JSON.stringify(_this.addForm))\r\n        if (res.code !== 200) return this.$message.error(res.msg)\r\n        //隐藏添加对话框\r\n        this.addDialogVisible = false\r\n        //重新加载列表\r\n        await this.getRoleList()\r\n        this.$message.success('添加角色信息成功！')\r\n      })\r\n    },\r\n    // 显示修改对话框，回显数据\r\n    async showEditDialog(id) {\r\n      const _this = this\r\n      await axios.get('sysRole/' + id).then(resp => {\r\n        console.log(resp)\r\n        _this.editForm = resp.data.data\r\n      })\r\n      this.editDialogVisible = true\r\n    },\r\n    // 监听修改对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改角色信息并提交\r\n    editRole() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        const _this = this\r\n        if (!valid) return\r\n        axios.defaults.headers.put['Content-Type'] = 'application/json'\r\n        const {data: res} = await axios.put('sysRole/', JSON.stringify(_this.editForm))\r\n        if (res.code !== 200) return this.$message.error(res.msg)\r\n\r\n        this.editDialogVisible = false\r\n        await this.getRoleList()\r\n        this.$message.success('修改角色信息成功！')\r\n      })\r\n    },\r\n    // 监听多选框变化\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n    },\r\n    // 批量删除前校验\r\n    async isAbleMultipleDelete() {\r\n      let ableMultipleDelete = true\r\n      let ids = ''\r\n      for (let i = 0; i < this.multipleSelection.length; i++) {\r\n        this.checkAbleId.roleId = this.multipleSelection[i].roleId\r\n        const { data : res } = await axios.get('sysUser', {params: this.checkAbleId})\r\n        if (res.data.length !== 0) {\r\n          ids += this.multipleSelection[i].roleId + ' '\r\n          ableMultipleDelete = false\r\n        }\r\n      }\r\n      if (ableMultipleDelete === false) {\r\n        this.$alert('抱歉！有用户与当前要删除的角色相关联，不能删除角色信息。\\n' + '导致异常的角色编号为: ' + ids, '批量删除请求异常通知', {\r\n          confirmButtonText: '我知道了',\r\n          callback: action => {\r\n            this.$router.push('/role')\r\n          }\r\n        })\r\n        return\r\n      }\r\n      await this.multipleDelete()\r\n    },\r\n    async multipleDelete() {\r\n      const _this = this\r\n      //询问用户是否确认删除\r\n      const resp = await this.$confirm('此操作将永久删除这些条目, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 用户确认删除, resp为字符串\"confirm\"\r\n      // 用户取消删除，resp为字符串\"cancel\"\r\n      if (resp === 'cancel') {\r\n        return _this.$message.info('已取消删除')\r\n      }\r\n\r\n      let ids = []\r\n      this.multipleSelection.forEach(data => {\r\n        ids.push(data.roleId)\r\n      })\r\n      let success = true\r\n      await axios.delete('sysRole/' + ids).then(resp => {\r\n        if (resp.data.code !== 200) {\r\n          success = false;\r\n        }\r\n      })\r\n      if (!success) return this.$message.error('批量删除资源信息失败！')\r\n      await this.getRoleList()\r\n      this.$message.success('批量删除资源信息成功！')\r\n    },\r\n    async isAbleDelete(id) {\r\n      this.checkAbleId.roleId = id\r\n      await axios.get('sysUser', {params: this.checkAbleId}).then(response => {\r\n        console.log(response.data.total)\r\n        let users = response.data.data\r\n        if (response.data.total === 0) {\r\n          console.log('空的可改')\r\n          this.deleteRoleById(id)\r\n        } else {\r\n          console.log('删除前判断有相关联的user')\r\n          let ids = ''\r\n          for (let temp of users) {\r\n            console.log(temp)\r\n            ids += temp.userId+' '\r\n          }\r\n          console.log('users is : '+ids)\r\n          this.$alert('抱歉！有用户与当前要删除的角色相关联，不能删除角色信息。\\n'+'导致异常的用户编号为: '+ids, '删除请求异常通知', {\r\n            confirmButtonText: '我知道了',\r\n            callback: action => {\r\n              this.$router.push('/role')\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //根据id删除对应的资源信息\r\n    async deleteRoleById(roleId) {\r\n      const _this = this\r\n      //询问用户是否确认删除\r\n      const resp = await this.$confirm('此操作将永久删除该条目, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 用户确认删除, resp为字符串\"confirm\"\r\n      // 用户取消删除，resp为字符串\"cancel\"\r\n      console.log(resp)\r\n      if (resp === 'cancel') {\r\n        return _this.$message.info('已取消删除')\r\n      }\r\n\r\n      let success = true\r\n      await axios.delete('sysRole/' + roleId).then(resp => {\r\n        if (resp.data.code !== 200) {\r\n          success = false\r\n        }\r\n      })\r\n      if (!success) return _this.$message.error('删除角色信息失败！')\r\n      await this.getRoleList()\r\n      this.$message.success('删除角色信息成功！')\r\n    },\r\n    //展示分配权限对话框\r\n    async showSetRightDialog(role) {\r\n      this.roleId = role.roleId\r\n      const {data: res} = await axios.get('sysResource/tree')\r\n      this.resourceList = res.data\r\n      console.log(role)\r\n      await this.getLeafKeys(role, this.defKeys)\r\n      console.log('defKeys' + this.defKeys)\r\n      this.setRightDialogVisible = true\r\n    },\r\n    //获取角色对应的所有具体权限id\r\n    getLeafKeys(node, arr) {\r\n      if(!node) return\r\n      if (!node.children) {\r\n        return arr.push(node.id)\r\n      }\r\n\r\n      node.children.forEach(item => this.getLeafKeys(item, arr))\r\n    },\r\n    //关闭分配权限对话框，刷新defKeys\r\n    setRightDialogClosed() {\r\n      this.defKeys = []\r\n    },\r\n    async submitRights() {\r\n      const keys = [\r\n          ...this.$refs.treeRef.getCheckedKeys(true)\r\n      ]\r\n      const _this = this\r\n      axios.defaults.headers.post['Content-Type'] = 'application/json'\r\n      const {data : res} = await axios.post('sysRole/' + _this.roleId, JSON.stringify(keys))\r\n      if(res.code !== 200) return this.$message.error(\"更新权限失败！\")\r\n\r\n      this.$message.success(\"更新权限成功！\")\r\n      await this.getRoleList()\r\n      this.setRightDialogVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}