{"remainingRequest":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\src\\views\\movie\\MovieCategory.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\src\\views\\movie\\MovieCategory.vue","mtime":1715002105630},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\babel.config.js","mtime":1715002093928},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002096653},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1715002095676},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002096653},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1715002104692}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW92aWVDYXRlZ29yeSIsCiAgLy8gdGhpcy4kbWVzc2FnZeWSjHRoaXMuJGNvbmZpcm3pg73lsZ7kuo7ljp/lnovmjILovb0sIOWcqGVsZW1lbnQuanPkuK3phY3nva4KICAvLyBWdWUucHJvdG90eXBlLiRtZXNzYWdlID0gTWVzc2FnZQogIC8vIFZ1ZS5wcm90b3R5cGUuJGNvbmZpcm0gPSBNZXNzYWdlQm94LmNvbmZpcm0KICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgcXVlcnk6ICcnLAogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDcKICAgICAgfSwKICAgICAgbW92aWVDYXRlZ29yeUxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgLy/mjqfliLblr7nor53moYbnmoTmmL7npLrkuI7pmpDol48KICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8v5re75Yqg57G75Yir55qE6KGo5Y2V5pWw5o2uCiAgICAgIGFkZEZvcm06IHsKICAgICAgICBtb3ZpZUNhdGVnb3J5TmFtZTogJycKICAgICAgfSwKICAgICAgLy/pqozor4HooajljZXop4TliJnlr7nosaEKICAgICAgYWRkRm9ybVJ1bGVzOiB7CiAgICAgICAgbW92aWVDYXRlZ29yeU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmtLvliqjnsbvliKsnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0Rm9ybToge30sCiAgICAgIGVkaXRGb3JtUnVsZXM6IHsKICAgICAgICBtb3ZpZUNhdGVnb3J5TmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpea0u+WKqOexu+WIqycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRNb3ZpZUNhdGVnb3J5TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TW92aWVDYXRlZ29yeUxpc3QoKSB7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCdzeXNNb3ZpZUNhdGVnb3J5L2ZpbmQnLCB7CiAgICAgICAgcGFyYW1zOiBfdGhpcy5xdWVyeUluZm8KICAgICAgfSkudGhlbihyZXNwID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICBfdGhpcy5tb3ZpZUNhdGVnb3J5TGlzdCA9IHJlc3AuZGF0YS5kYXRhOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLnF1ZXJ5SW5mby5wYWdlU2l6ZSA9IHJlc3AuZGF0YS5wYWdlU2l6ZTsKICAgICAgICBfdGhpcy5xdWVyeUluZm8ucGFnZU51bSA9IHJlc3AuZGF0YS5wYWdlTnVtOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdTaXplOwogICAgICB0aGlzLmdldE1vdmllQ2F0ZWdvcnlMaXN0KCk7CiAgICAgIGNvbnNvbGUubG9nKG5ld1NpemUpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTnVtID0gbmV3UGFnZTsKICAgICAgdGhpcy5nZXRNb3ZpZUNhdGVnb3J5TGlzdCgpOwogICAgICBjb25zb2xlLmxvZyhuZXdQYWdlKTsKICAgIH0sCiAgICAvLyDnm5HlkKzmt7vliqDlr7nor53moYbnmoTlhbPpl63kuovku7YKICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g55uR5ZCs5re75Yqg5oyJ6ZKuCiAgICBhZGRNb3ZpZUNhdGVnb3J5KCkgewogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgY29uc29sZS5sb2codmFsaWQpOwogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICAvL+mihOagoemqjOaIkOWKn++8jOWPkee9kee7nOivt+axggogICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgnc3lzTW92aWVDYXRlZ29yeScsIEpTT04uc3RyaW5naWZ5KF90aGlzLmFkZEZvcm0pKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmt7vliqDmtLvliqjnsbvliKvlpLHotKXvvIEnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAvL+makOiXj+a3u+WKoOWvueivneahhgogICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIC8v6YeN5paw5Yqg6L295YiX6KGoCiAgICAgICAgdGhpcy5nZXRNb3ZpZUNhdGVnb3J5TGlzdCgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5rS75Yqo57G75Yir5oiQ5Yqf77yBJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaYvuekuuS/ruaUueWvueivneahhu+8jOWbnuaYvuaVsOaNrgogICAgc2hvd0VkaXREaWFsb2coaWQpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwogICAgICBheGlvcy5nZXQoJ3N5c01vdmllQ2F0ZWdvcnkvJyArIGlkKS50aGVuKHJlc3AgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgIF90aGlzLmVkaXRGb3JtID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnm5HlkKzkv67mlLnlr7nor53moYbnmoTlhbPpl63kuovku7YKICAgIGVkaXREaWFsb2dDbG9zZWQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDkv67mlLnnsbvliKvliIbnsbvkv6Hmga/lubbmj5DkuqQKICAgIGVkaXRNb3ZpZUNhdGVnb3J5SW5mbygpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnB1dFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgICAgICAgYXdhaXQgYXhpb3MucHV0KCdzeXNNb3ZpZUNhdGVnb3J5JywgSlNPTi5zdHJpbmdpZnkoX3RoaXMuZWRpdEZvcm0pKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5L+u5pS55rS75Yqo57G75Yir5aSx6LSl77yBJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuZ2V0TW92aWVDYXRlZ29yeUxpc3QoKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUuea0u+WKqOexu+WIq+aIkOWKn++8gScpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnm5HlkKzlpJrpgInmoYblj5jljJYKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgIH0sCiAgICBhc3luYyBtdWx0aXBsZURlbGV0ZSgpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwogICAgICAvL+ivoumXrueUqOaIt+aYr+WQpuehruiupOWIoOmZpAogICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6L+Z5Lqb5p2h55uuLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLmNhdGNoKGVyciA9PiBlcnIpOwoKICAgICAgLy8g55So5oi356Gu6K6k5Yig6ZmkLCByZXNw5Li65a2X56ym5LiyImNvbmZpcm0iCiAgICAgIC8vIOeUqOaIt+WPlua2iOWIoOmZpO+8jHJlc3DkuLrlrZfnrKbkuLIiY2FuY2VsIgogICAgICBpZiAocmVzcCA9PT0gJ2NhbmNlbCcpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6ZmkJyk7CiAgICAgIH0KICAgICAgbGV0IGlkcyA9IFtdOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goZGF0YSA9PiB7CiAgICAgICAgaWRzLnB1c2goZGF0YS5tb3ZpZUNhdGVnb3J5SWQpOwogICAgICB9KTsKICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKCdzeXNNb3ZpZUNhdGVnb3J5LycgKyBpZHMpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5om56YeP5Yig6Zmk5rS75Yqo57G75Yir5aSx6LSl77yBJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5nZXRNb3ZpZUNhdGVnb3J5TGlzdCgpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aJuemHj+WIoOmZpOa0u+WKqOexu+WIq+aIkOWKn++8gScpOwogICAgfSwKICAgIC8v5qC55o2uaWTliKDpmaTlr7nlupTnmoTnsbvliKvliIbnsbsKICAgIGFzeW5jIGRlbGV0ZU1vdmllQ2F0ZWdvcnlCeUlkKGlkKSB7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsKICAgICAgLy/or6Lpl67nlKjmiLfmmK/lkKbnoa7orqTliKDpmaQKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeadoeebriwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKTsKCiAgICAgIC8vIOeUqOaIt+ehruiupOWIoOmZpCwgcmVzcOS4uuWtl+espuS4siJjb25maXJtIgogICAgICAvLyDnlKjmiLflj5bmtojliKDpmaTvvIxyZXNw5Li65a2X56ym5LiyImNhbmNlbCIKICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgIGlmIChyZXNwID09PSAnY2FuY2VsJykgewogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQnKTsKICAgICAgfQogICAgICBhd2FpdCBheGlvcy5kZWxldGUoJ3N5c01vdmllQ2F0ZWdvcnkvJyArIGlkKS50aGVuKHJlc3AgPT4gewogICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSAhPT0gMjAwKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmtLvliqjnsbvliKvlpLHotKXvvIEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmdldE1vdmllQ2F0ZWdvcnlMaXN0KCk7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5rS75Yqo57G75Yir5oiQ5Yqf77yBJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","queryInfo","query","pageNum","pageSize","movieCategoryList","total","addDialogVisible","addForm","movieCategoryName","addFormRules","required","message","trigger","editDialogVisible","editForm","editFormRules","multipleSelection","created","getMovieCategoryList","methods","_this","axios","get","params","then","resp","console","log","handleSizeChange","newSize","handleCurrentChange","newPage","addDialogClosed","$refs","addFormRef","resetFields","addMovieCategory","validate","valid","defaults","headers","post","JSON","stringify","code","$message","error","success","showEditDialog","id","editDialogClosed","editFormRef","editMovieCategoryInfo","put","handleSelectionChange","val","multipleDelete","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","ids","forEach","push","movieCategoryId","delete","deleteMovieCategoryById"],"sources":["src/views/movie/MovieCategory.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--面包屑导航类别-->\r\n    <div class=\"board\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>活动管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>活动类别</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n\r\n    <!--卡片视图-->\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加类别</el-button>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"danger\" @click=\"multipleDelete\">批量删除类别</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!--类别分类列表-->\r\n      <el-table :data=\"movieCategoryList\" style=\"width: 45%\" border stripe @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column prop=\"movieCategoryId\" label=\"类别编号\" width=\"145\"></el-table-column>\r\n        <el-table-column prop=\"movieCategoryName\" label=\"活动类别\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip effect=\"dark\" content=\"修改活动类别\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.movieCategoryId)\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip effect=\"dark\" content=\"删除类别\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteMovieCategoryById(scope.row.movieCategoryId)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!--分页类别-->\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pageNum\"\r\n          :page-sizes=\"[5, 7, 9]\"\r\n          :page-size=\"queryInfo.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n\r\n    <!--添加类别对话框-->\r\n    <el-dialog title=\"添加类别\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n      <!--内容主题区-->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\r\n        <!--prop：在addFormRules中定义校验规则， v-model：双向绑定数据-->\r\n        <el-form-item label=\"活动类别\" prop=\"movieCategoryName\">\r\n          <el-input v-model=\"addForm.movieCategoryName\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!--底部区域-->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"addMovieCategory\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!--修改类别对话框-->\r\n    <el-dialog title=\"修改类别\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\">\r\n        <el-form-item label=\"类别编号\">\r\n          <el-input v-model=\"editForm.movieCategoryId\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动类别\" prop=\"movieCategoryName\">\r\n          <el-input v-model=\"editForm.movieCategoryName\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editMovieCategoryInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MovieCategory\",\r\n  // this.$message和this.$confirm都属于原型挂载, 在element.js中配置\r\n  // Vue.prototype.$message = Message\r\n  // Vue.prototype.$confirm = MessageBox.confirm\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        query: '',\r\n        pageNum: 1,\r\n        pageSize: 7\r\n      },\r\n      movieCategoryList: [],\r\n      total: 0,\r\n      //控制对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      //添加类别的表单数据\r\n      addForm: {\r\n        movieCategoryName: ''\r\n      },\r\n      //验证表单规则对象\r\n      addFormRules: {\r\n        movieCategoryName: [\r\n          { required: true, message: '请输入活动类别', trigger: 'blur' }\r\n        ]\r\n      },\r\n      editDialogVisible: false,\r\n      editForm: {},\r\n      editFormRules: {\r\n        movieCategoryName: [\r\n          { required: true, message: '请输入活动类别', trigger: 'blur' }\r\n        ]\r\n      },\r\n      multipleSelection: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getMovieCategoryList()\r\n  },\r\n  methods: {\r\n    getMovieCategoryList() {\r\n      const _this = this;\r\n      axios.get('sysMovieCategory/find', {params: _this.queryInfo}).then(resp => {\r\n        console.log(resp)\r\n        _this.movieCategoryList = resp.data.data;\r\n        _this.total = resp.data.total;\r\n        _this.queryInfo.pageSize = resp.data.pageSize;\r\n        _this.queryInfo.pageNum = resp.data.pageNum;\r\n      })\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pageSize = newSize\r\n      this.getMovieCategoryList()\r\n      console.log(newSize)\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageNum = newPage\r\n      this.getMovieCategoryList()\r\n      console.log(newPage)\r\n    },\r\n    // 监听添加对话框的关闭事件\r\n    addDialogClosed(){\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 监听添加按钮\r\n    addMovieCategory(){\r\n      const _this = this;\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        console.log(valid)\r\n        if (!valid) return\r\n        //预校验成功，发网络请求\r\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\r\n        await axios.post('sysMovieCategory', JSON.stringify(_this.addForm)).then(resp => {\r\n          console.log(resp)\r\n          if (resp.data.code !== 200){\r\n            this.$message.error('添加活动类别失败！')\r\n          }\r\n        })\r\n        //隐藏添加对话框\r\n        this.addDialogVisible = false\r\n        //重新加载列表\r\n        this.getMovieCategoryList()\r\n        this.$message.success('添加活动类别成功！')\r\n      })\r\n    },\r\n    // 显示修改对话框，回显数据\r\n    showEditDialog(id){\r\n      const _this = this\r\n      axios.get('sysMovieCategory/' + id ).then(resp => {\r\n        console.log(resp)\r\n        _this.editForm = resp.data.data\r\n      })\r\n      this.editDialogVisible = true\r\n    },\r\n    // 监听修改对话框的关闭事件\r\n    editDialogClosed(){\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改类别分类信息并提交\r\n    editMovieCategoryInfo(){\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        const _this = this\r\n        if (!valid) return\r\n        axios.defaults.headers.put['Content-Type'] = 'application/json'\r\n        await axios.put('sysMovieCategory', JSON.stringify(_this.editForm)).then(resp => {\r\n          if (resp.data.code !== 200){\r\n            this.$message.error('修改活动类别失败！')\r\n          }\r\n        })\r\n        this.editDialogVisible = false\r\n        this.getMovieCategoryList()\r\n        this.$message.success('修改活动类别成功！')\r\n      })\r\n    },\r\n    // 监听多选框变化\r\n    handleSelectionChange(val){\r\n      this.multipleSelection = val\r\n    },\r\n    async multipleDelete(){\r\n      const _this = this\r\n      //询问用户是否确认删除\r\n      const resp = await this.$confirm('此操作将永久删除这些条目, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 用户确认删除, resp为字符串\"confirm\"\r\n      // 用户取消删除，resp为字符串\"cancel\"\r\n      if (resp === 'cancel'){\r\n        return _this.$message.info('已取消删除')\r\n      }\r\n\r\n      let ids = []\r\n      this.multipleSelection.forEach(data => {\r\n        ids.push(data.movieCategoryId)\r\n      })\r\n      await axios.delete('sysMovieCategory/' + ids).then(resp => {\r\n        if (resp.data.code !== 200){\r\n          this.$message.success('批量删除活动类别失败！')\r\n        }\r\n      })\r\n      this.getMovieCategoryList()\r\n      this.$message.success('批量删除活动类别成功！')\r\n    },\r\n    //根据id删除对应的类别分类\r\n    async deleteMovieCategoryById(id){\r\n      const _this = this\r\n      //询问用户是否确认删除\r\n      const resp = await this.$confirm('此操作将永久删除该条目, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 用户确认删除, resp为字符串\"confirm\"\r\n      // 用户取消删除，resp为字符串\"cancel\"\r\n      console.log(resp)\r\n      if (resp === 'cancel'){\r\n        return _this.$message.info('已取消删除')\r\n      }\r\n\r\n      await axios.delete('sysMovieCategory/' + id).then(resp => {\r\n        if (resp.data.code !== 200){\r\n          _this.$message.success('删除活动类别失败！')\r\n        }\r\n      })\r\n      this.getMovieCategoryList()\r\n      this.$message.success('删除活动类别成功！')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}