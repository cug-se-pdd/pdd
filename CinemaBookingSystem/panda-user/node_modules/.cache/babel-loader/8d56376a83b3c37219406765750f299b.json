{"remainingRequest":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\babel-loader\\lib\\index.js!F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Code\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieClassics.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieClassics.vue","mtime":1714207564479},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\babel.config.js","mtime":1714207564419},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714213961883},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\babel-loader\\lib\\index.js","mtime":1714213963702},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714213961883},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js","mtime":1714213964412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vdmllSXRlbSBmcm9tICIuLi8uLi9jb21wb25lbnRzL21vdmllL21vdmllLWl0ZW0iOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW92aWVDbGFzc2ljcyIsCiAgY29tcG9uZW50czogewogICAgbW92aWVJdGVtCiAgfSwKICBwcm9wczogewogICAgbW92aWVDYXRlZ29yeUlkOiBOdW1iZXIsCiAgICBvcmRlckJ5Q29sdW1uOiBTdHJpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbDogMCwKICAgICAgcGFnZVNpemU6IDMwLAogICAgICBwYWdlTnVtOiAxLAogICAgICBtb3ZpZUxpc3Q6IFtdLAogICAgICBzb3JyeTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdGVuQ2hhbmdlKCkgewogICAgICBjb25zdCB7CiAgICAgICAgbW92aWVDYXRlZ29yeUlkLAogICAgICAgIG9yZGVyQnlDb2x1bW4KICAgICAgfSA9IHRoaXM7CiAgICAgIHJldHVybiB7CiAgICAgICAgbW92aWVDYXRlZ29yeUlkLAogICAgICAgIG9yZGVyQnlDb2x1bW4KICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1vdmllTGlzdCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3RlbkNoYW5nZSgpIHsKICAgICAgdGhpcy5nZXRNb3ZpZUxpc3QoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldE1vdmllTGlzdCgpIHsKICAgICAgbGV0IHF1ZXJ5SW5mbyA9IHsKICAgICAgICBtb3ZpZUNhdGVnb3J5SWQ6IHRoaXMubW92aWVDYXRlZ29yeUlkLAogICAgICAgIG9yZGVyQnlDb2x1bW46IHRoaXMub3JkZXJCeUNvbHVtbiwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgaXNBc2M6ICdkZXNjJwogICAgICB9OwogICAgICBjb25zdCB7CiAgICAgICAgZGF0YTogcmVzCiAgICAgIH0gPSBhd2FpdCBheGlvcy5nZXQoJ3N5c01vdmllL2ZpbmQnLCB7CiAgICAgICAgcGFyYW1zOiBxdWVyeUluZm8KICAgICAgfSk7CiAgICAgIHRoaXMubW92aWVMaXN0ID0gcmVzLmRhdGE7CiAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWw7CiAgICAgIGlmICh0aGlzLm1vdmllTGlzdC5sZW5ndGggPT09IDApIHRoaXMuc29ycnkgPSB0cnVlO2Vsc2UgdGhpcy5zb3JyeSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSBuZXdQYWdlOwogICAgICB0aGlzLmdldE1vdmllTGlzdCgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["movieItem","moment","name","components","props","movieCategoryId","Number","orderByColumn","String","data","total","pageSize","pageNum","movieList","sorry","computed","listenChange","created","getMovieList","watch","methods","queryInfo","isAsc","res","axios","get","params","length","handleCurrentChange","newPage"],"sources":["src/views/movie/MovieClassics.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"movie-list\">\r\n      <movie-item :movieItem=\"item\" v-for=\"item in movieList\" :key=\"item.movieId\"></movie-item>\r\n    </div>\r\n\r\n    <div class=\"no-cinema\" v-if=\"sorry\">\r\n      <p>抱歉，没有找到相关结果，请尝试用其他条件筛选。</p>\r\n    </div>\r\n\r\n    <div class=\"pageHelper\">\r\n      <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-size=\"pageSize\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport movieItem from \"../../components/movie/movie-item\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"MovieClassics\",\r\n  components:{\r\n    movieItem\r\n  },\r\n  props:{\r\n    movieCategoryId: Number,\r\n    orderByColumn: String\r\n  },\r\n  data(){\r\n    return{\r\n      total: 0,\r\n      pageSize: 30,\r\n      pageNum: 1,\r\n      movieList: [],\r\n      sorry: false\r\n    }\r\n  },\r\n  computed: {\r\n    listenChange () {\r\n      const {movieCategoryId, orderByColumn} = this\r\n      return {movieCategoryId, orderByColumn}\r\n    }\r\n  },\r\n  created() {\r\n    this.getMovieList()\r\n  },\r\n  watch:{\r\n    listenChange(){\r\n      this.getMovieList()\r\n    }\r\n  },\r\n  methods: {\r\n    async getMovieList(){\r\n      let queryInfo = {\r\n        movieCategoryId: this.movieCategoryId,\r\n        orderByColumn: this.orderByColumn,\r\n        pageSize: this.pageSize,\r\n        pageNum: this.pageNum,\r\n        isAsc: 'desc'\r\n      }\r\n      const { data : res } = await axios.get('sysMovie/find', {params: queryInfo})\r\n      this.movieList = res.data\r\n      this.total = res.total\r\n      if(this.movieList.length === 0) this.sorry = true\r\n      else this.sorry = false\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.pageNum = newPage\r\n      this.getMovieList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.movie-list{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.pageHelper{\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 40px 0px;\r\n}\r\n\r\n.no-cinema{\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 40px;\r\n  margin-bottom: 40px;\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n</style>\r\n"],"mappings":"AAwBA,OAAAA,SAAA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACAC,eAAA,EAAAC,MAAA;IACAC,aAAA,EAAAC;EACA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,OAAA;MACAC,SAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,aAAA;MACA;QAAAX,eAAA;QAAAE;MAAA;MACA;QAAAF,eAAA;QAAAE;MAAA;IACA;EACA;EACAU,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,KAAA;IACAH,aAAA;MACA,KAAAE,YAAA;IACA;EACA;EACAE,OAAA;IACA,MAAAF,aAAA;MACA,IAAAG,SAAA;QACAhB,eAAA,OAAAA,eAAA;QACAE,aAAA,OAAAA,aAAA;QACAI,QAAA,OAAAA,QAAA;QACAC,OAAA,OAAAA,OAAA;QACAU,KAAA;MACA;MACA;QAAAb,IAAA,EAAAc;MAAA,UAAAC,KAAA,CAAAC,GAAA;QAAAC,MAAA,EAAAL;MAAA;MACA,KAAAR,SAAA,GAAAU,GAAA,CAAAd,IAAA;MACA,KAAAC,KAAA,GAAAa,GAAA,CAAAb,KAAA;MACA,SAAAG,SAAA,CAAAc,MAAA,aAAAb,KAAA,aACA,KAAAA,KAAA;IACA;IACAc,oBAAAC,OAAA;MACA,KAAAjB,OAAA,GAAAiB,OAAA;MACA,KAAAX,YAAA;IACA;EACA;AACA","ignoreList":[]}]}