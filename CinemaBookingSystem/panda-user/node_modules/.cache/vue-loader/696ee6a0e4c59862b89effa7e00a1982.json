{"remainingRequest":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Code\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieUpcoming.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieUpcoming.vue","mtime":1714207564480},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714213961883},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\babel-loader\\lib\\index.js","mtime":1714213963702},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714213961883},{"path":"F:\\Code\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js","mtime":1714213964412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbW92aWVJdGVtIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbW92aWUvbW92aWUtaXRlbScNCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTW92aWVVcGNvbWluZyIsDQogIGNvbXBvbmVudHM6ew0KICAgIG1vdmllSXRlbQ0KICB9LA0KICBwcm9wczp7DQogICAgbW92aWVDYXRlZ29yeUlkOiBOdW1iZXIsDQogICAgb3JkZXJCeUNvbHVtbjogU3RyaW5nDQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICB0b3RhbDogMCwNCiAgICAgIHBhZ2VTaXplOiAzMCwNCiAgICAgIHBhZ2VOdW06IDEsDQogICAgICBzdGFydERhdGU6IG1vbWVudCgpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLA0KICAgICAgbW92aWVMaXN0OiBbXSwNCiAgICAgIHNvcnJ5OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBsaXN0ZW5DaGFuZ2UgKCkgew0KICAgICAgY29uc3Qge21vdmllQ2F0ZWdvcnlJZCwgb3JkZXJCeUNvbHVtbn0gPSB0aGlzDQogICAgICByZXR1cm4ge21vdmllQ2F0ZWdvcnlJZCwgb3JkZXJCeUNvbHVtbn0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRNb3ZpZUxpc3QoKQ0KICB9LA0KICB3YXRjaDp7DQogICAgbGlzdGVuQ2hhbmdlKCl7DQogICAgICB0aGlzLmdldE1vdmllTGlzdCgpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0TW92aWVMaXN0KCl7DQogICAgICBsZXQgcXVlcnlJbmZvID0gew0KICAgICAgICBtb3ZpZUNhdGVnb3J5SWQ6IHRoaXMubW92aWVDYXRlZ29yeUlkLA0KICAgICAgICBvcmRlckJ5Q29sdW1uOiB0aGlzLm9yZGVyQnlDb2x1bW4sDQogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sDQogICAgICAgIHN0YXJ0RGF0ZTogdGhpcy5zdGFydERhdGUsDQogICAgICAgIGlzQXNjOiAnZGVzYycNCiAgICAgIH0NCiAgICAgIGNvbnN0IHsgZGF0YSA6IHJlcyB9ID0gYXdhaXQgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kJywge3BhcmFtczogcXVlcnlJbmZvfSkNCiAgICAgIHRoaXMubW92aWVMaXN0ID0gcmVzLmRhdGENCiAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWwNCiAgICAgIHRoaXMuc29ycnkgPSB0aGlzLm1vdmllTGlzdC5sZW5ndGggPT09IDA7DQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsNCiAgICAgIHRoaXMucGFnZU51bSA9IG5ld1BhZ2UNCiAgICAgIHRoaXMuZ2V0TW92aWVMaXN0KCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["MovieUpcoming.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovieUpcoming.vue","sourceRoot":"src/views/movie","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"movie-list\">\r\n      <movie-item :movieItem=\"item\" v-for=\"item in movieList\" :key=\"item.movieId\"></movie-item>\r\n    </div>\r\n\r\n    <div class=\"no-cinema\" v-if=\"sorry\">\r\n      <p>抱歉，没有找到相关结果，请尝试用其他条件筛选。</p>\r\n    </div>\r\n\r\n    <div class=\"pageHelper\">\r\n      <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-size=\"pageSize\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport movieItem from '../../components/movie/movie-item'\r\nimport moment from 'moment'\r\nexport default {\r\n  name: \"MovieUpcoming\",\r\n  components:{\r\n    movieItem\r\n  },\r\n  props:{\r\n    movieCategoryId: Number,\r\n    orderByColumn: String\r\n  },\r\n  data(){\r\n    return{\r\n      total: 0,\r\n      pageSize: 30,\r\n      pageNum: 1,\r\n      startDate: moment().format(\"YYYY-MM-DD\"),\r\n      movieList: [],\r\n      sorry: false\r\n    }\r\n  },\r\n  computed: {\r\n    listenChange () {\r\n      const {movieCategoryId, orderByColumn} = this\r\n      return {movieCategoryId, orderByColumn}\r\n    }\r\n  },\r\n  created() {\r\n    this.getMovieList()\r\n  },\r\n  watch:{\r\n    listenChange(){\r\n      this.getMovieList()\r\n    }\r\n  },\r\n  methods: {\r\n    async getMovieList(){\r\n      let queryInfo = {\r\n        movieCategoryId: this.movieCategoryId,\r\n        orderByColumn: this.orderByColumn,\r\n        pageSize: this.pageSize,\r\n        pageNum: this.pageNum,\r\n        startDate: this.startDate,\r\n        isAsc: 'desc'\r\n      }\r\n      const { data : res } = await axios.get('sysMovie/find', {params: queryInfo})\r\n      this.movieList = res.data\r\n      this.total = res.total\r\n      this.sorry = this.movieList.length === 0;\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.pageNum = newPage\r\n      this.getMovieList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.movie-list{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.pageHelper{\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 40px 0px;\r\n}\r\n\r\n.no-cinema{\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 40px;\r\n  margin-bottom: 40px;\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n</style>\r\n"]}]}