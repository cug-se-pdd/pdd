{"remainingRequest":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\src\\views\\movie\\MovieInfo.vue","mtime":1715349764901},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002107957},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\node_modules\\babel-loader\\lib\\index.js","mtime":1715002107113},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715002107957},{"path":"D:\\javaProjects\\pqq\\CinemaBookingSystem\\panda-user\\node_modules\\vue-loader\\lib\\index.js","mtime":1715002115483}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtb3ZpZUl0ZW0gZnJvbSAnLi8uLi8uLi9jb21wb25lbnRzL21vdmllL21vdmllLWl0ZW0nOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNb3ZpZUluZm8iLAogIGNvbXBvbmVudHM6ewogICAgbW92aWVJdGVtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW92aWVJbmZvOiB7CiAgICAgICAgbW92aWVQaWN0dXJlczogW10KICAgICAgfSwKICAgICAgbW92aWVJZDogdGhpcy4kcm91dGUucGFyYW1zLm1vdmllSWQsCiAgICAgIGFjdGl2ZU5hbWU6ICdpbnRyb2R1Y3Rpb24nLAogICAgICBjb2xvcnM6IFsnIzk5QTlCRicsICcjRjdCQTJBJywgJyNGRjk5MDAnXSwKICAgICAgaHR0cFVSTDogdGhpcy5nbG9iYWwuYmFzZQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TW92aWVJbmZvKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldE1vdmllSW5mbygpewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgY29uc3Qge2RhdGEgOiByZXN9ID0gYXdhaXQgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kLycgKyB0aGlzLm1vdmllSWQpCiAgICAgIGlmKHJlcy5jb2RlICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlbDmja7mn6Xor6LlpLHotKUnKQogICAgICB0aGlzLm1vdmllSW5mbyA9IHJlcy5kYXRhCiAgICAgIHRoaXMubW92aWVJbmZvLm1vdmllUG9zdGVyID0gdGhpcy5odHRwVVJMICsgSlNPTi5wYXJzZShyZXMuZGF0YS5tb3ZpZVBvc3RlcilbMF0KICAgICAgdGhpcy5tb3ZpZUluZm8ubW92aWVQaWN0dXJlcyA9IEpTT04ucGFyc2UodGhpcy5tb3ZpZUluZm8ubW92aWVQaWN0dXJlcykubWFwKChvYmosIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cFVSTCArIG9iagogICAgICB9KQogICAgICB0aGlzLm1vdmllSW5mby5tb3ZpZUNhdGVnb3J5TGlzdCA9IHRoaXMubW92aWVJbmZvLm1vdmllQ2F0ZWdvcnlMaXN0Lm1hcCgob2JqLGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIG9iai5tb3ZpZUNhdGVnb3J5TmFtZTsKICAgICAgfSkuam9pbigiICIpCiAgICB9LAogICAgc2hvd1BpY3R1cmVzKCl7CiAgICAgIHRoaXMuYWN0aXZlTmFtZSA9ICdwaWN0dXJlcycKICAgIH0sCiAgICAvL+i9rOWIsOi0reelqOmhtemdogogICAgdG9DaG9vc2VTZXNzaW9uKCl7CiAgICAgIGxldCBjaW5lbWFJZCA9IDE7CiAgICAgIGxldCBtb3ZpZUlkID0gMTsKICAgICAgbW92aWVJZD10aGlzLm1vdmllSWQKCiAgICAgIC8vIOS9v+eUqOaooeadv+Wtl+espuS4suWSjOWPjeW8leWPtwogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2Nob29zZVNlc3Npb24vJHtjaW5lbWFJZH0vJHttb3ZpZUlkfWApOwogICAgfQogIH0KfQo="},{"version":3,"sources":["MovieInfo.vue"],"names":[],"mappings":";AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MovieInfo.vue","sourceRoot":"src/views/movie","sourcesContent":["<template>\n  <div class=\"movie-container\">\n    <div class=\"header\">\n      <div class=\"header-inner clearfix\">\n        <div class=\"movie-info-left\">\n          <div class=\"avatar-shadow\">\n            <el-image class=\"avatar\" :src=\"movieInfo.moviePoster\"/>\n          </div>\n        </div>\n        <div class=\"movie-info-right\">\n          <div class=\"movie-info-msg\">\n            <h1 class=\"movie-name\">{{movieInfo.movieName}}</h1>\n<!--            <h1>&nbsp;|</h1>-->\n<!--            <h1>&nbsp;</h1>-->\n<!--            <h1>&nbsp;</h1>-->\n            <ul>\n              <li>{{movieInfo.movieCategoryList}}</li>\n<!--              <li>{{movieInfo.movieArea}} / {{movieInfo.movieLength}}分钟</li>-->\n              <li>{{movieInfo.movieLength}}分钟</li>\n              <li>{{movieInfo.releaseDate}}  开始</li>\n            </ul>\n          </div>\n          <div class=\"movie-info-btn\">\n            <el-button class=\"buy-btn\" type=\"primary\" @click=\"toChooseSession\">我要预约</el-button>\n          </div>\n          <div class=\"movie-info-score\">\n            <div class=\"movie-index box-office-container\">\n              <span class=\"movie-index-title\">参与人数</span>\n              <div style=\"display: flex;align-items: flex-end;\">\n                <span class=\"box-office\">{{movieInfo.movieBoxOffice}}</span>\n                <span class=\"unit\">人</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"movie-info-detail-container\">\n      <div class=\"movie-info-detail clearfix\">\n        <div class=\"main-content\">\n          <div class=\"crumbs-nav-container\">\n            <a href=\"/welcome\">票多多</a> &gt; <a href=\"/movie\">活动</a> &gt; {{movieInfo.movieName}}\n          </div>\n          <el-tabs v-model=\"activeName\">\n            <el-tab-pane label=\"介绍\" name=\"introduction\">\n              <div class=\"tab-body\">\n                <!-- 剧情简介 -->\n                <div class=\"module\">\n                  <div class=\"mod-title\">\n                    <h2>活动简介</h2>\n                  </div>\n                  <div class=\"mod-content\">\n                    <span class=\"dra\">\n                      {{movieInfo.movieIntroduction}}\n                    </span>\n                  </div>\n                </div>\n                <!-- 图集 -->\n                <div class=\"module\">\n                  <div class=\"mod-title\">\n                    <h2>图集</h2>\n                    <a class=\"more\" @click=\"showPictures\">全部</a>\n                  </div>\n                  <div class=\"mod-content\">\n                    <div class=\"pictures-list\">\n                      <div v-if=\"movieInfo.moviePictures.length === 0\">\n                        暂无图片资源\n                      </div>\n                      <el-image\n                          class=\"default-img\"\n                          :src=\"movieInfo.moviePictures[0]\"\n                          :preview-src-list=\"movieInfo.moviePictures\"\n                          v-if=\"movieInfo.moviePictures.length > 0\">\n                      </el-image>\n                      <div class=\"little-pictures\">\n                        <el-image\n                            class=\"default-img\"\n                            v-for=\"(item,index) in movieInfo.moviePictures.slice(1)\"\n                            :key=\"index\"\n                            :src=\"item\"\n                            :preview-src-list=\"movieInfo.moviePictures\">\n                        </el-image>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"图集\" name=\"pictures\">\n              <div class=\"tab-body\">\n                <div class=\"pictures-list\">\n                  <div class=\"little-pictures\">\n                    <div v-if=\"movieInfo.moviePictures.length == 0\">\n                      暂无图片资源\n                    </div>\n                    <el-image\n                        fit=\"cover\"\n                        class=\"default-img\"\n                        v-for=\"(item,index) in movieInfo.moviePictures\"\n                        :key=\"index\"\n                        :src=\"item\"\n                        :preview-src-list=\"movieInfo.moviePictures\">\n                    </el-image>\n                  </div>\n                </div>\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport movieItem from './../../components/movie/movie-item';\nimport moment from 'moment'\nexport default {\n  name: \"MovieInfo\",\n  components:{\n    movieItem\n  },\n  data() {\n    return {\n      movieInfo: {\n        moviePictures: []\n      },\n      movieId: this.$route.params.movieId,\n      activeName: 'introduction',\n      colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\n      httpURL: this.global.base\n    }\n  },\n  created() {\n    this.getMovieInfo()\n  },\n  methods: {\n    async getMovieInfo(){\n      const _this = this\n      const {data : res} = await axios.get('sysMovie/find/' + this.movieId)\n      if(res.code !== 200) return this.$message.error('数据查询失败')\n      this.movieInfo = res.data\n      this.movieInfo.moviePoster = this.httpURL + JSON.parse(res.data.moviePoster)[0]\n      this.movieInfo.moviePictures = JSON.parse(this.movieInfo.moviePictures).map((obj, index) => {\n        return this.httpURL + obj\n      })\n      this.movieInfo.movieCategoryList = this.movieInfo.movieCategoryList.map((obj,index) => {\n        return obj.movieCategoryName;\n      }).join(\" \")\n    },\n    showPictures(){\n      this.activeName = 'pictures'\n    },\n    //转到购票页面\n    toChooseSession(){\n      let cinemaId = 1;\n      let movieId = 1;\n      movieId=this.movieId\n\n      // 使用模板字符串和反引号\n      this.$router.push(`/chooseSession/${cinemaId}/${movieId}`);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.movie-container{\n\n}\n\na{\n  text-decoration: none;\n  cursor:pointer;\n}\n\n.header{\n  padding: 0;\n  width: 100%;\n  min-width: 1200px;\n  background: url('../../assets/movie-info-background.jpg')\n}\n\n.header-inner{\n  width: 1200px;\n  margin: 0 auto;\n  position: relative;\n}\n\n.clearfix::before, .clearfix::after{\n  content: \" \";\n  display: table;\n}\n\n.clearfix::after{\n  clear: both;\n}\n\n.movie-info-left{\n  width: 300px;\n  height: 370px;\n  float: left;\n  position: relative;\n  top: 70px;\n  overflow: hidden;\n  z-index: 9;\n}\n\n.avatar-shadow{\n  position: relative;\n  margin: 0 30px;\n  width: 240px;\n  height: 330px;\n  padding-bottom: 40px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAyAgMAAAAfG76+AAAADFBMVEUAAAAAAAAAAAAAAAA16TeWAAAABHRSTlMOAgoGQ0SIeAAAADpJREFUSMdjGAWjYBRgAasoAAwdFACKbB7VPEI076YAUGbzfwrAqOYRormcAjCANodSAEY1j2oexJoBlx1+yE7RXIIAAAAASUVORK5CYII=) no-repeat bottom;\n}\n\n.avatar{\n  border: 4px solid #fff;\n  height: 322px;\n  width: 232px;\n}\n\n.movie-info-msg{\n  position: absolute;\n  color: #fff;\n  font-size: 14px;\n  z-index: 1;\n}\n\n.movie-name{\n  width: 900px;\n  margin-top: 0;\n  font-size: 26px;\n  line-height: 32px;\n  font-weight: 700;\n  margin-bottom: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  max-height: 64px;\n}\n\n.movie-ename{\n  width: 340px;\n  font-size: 18px;\n  line-height: 1.3;\n  margin-bottom: 14px;\n}\n\nul{\n  width: 250px;\n  list-style: none;\n  padding-left: 0;\n  margin-bottom: 20px;\n}\n\nul li{\n  margin: 12px 0;\n  line-height: 100%;\n}\n\n.movie-info-btn{\n  position: absolute;\n  bottom: 20px;\n}\n\n.buy-btn{\n  margin-top: 10px;\n  width: 250px;\n  height: 40px;\n  font-size: 16px;\n  text-align: center;\n}\n\n.movie-info-score{\n  position: absolute;\n  top: 145px;\n  left: 342px;\n}\n\n.movie-index {\n  margin-bottom: 16px;\n  color: #fff;\n}\n\n.box-office-container{\n  display: flex;\n  flex-direction: column;\n}\n\n.movie-index-title{\n  font-size: 12px;\n  margin-bottom: 8px;\n}\n\n.movie-score-num{\n  font-size: 30px;\n  color: #ffc600;\n  height: 30px;\n  line-height: 30px;\n  margin-right: 10px;\n}\n\n.score-container{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n}\n\n.box-office{\n  font-size: 30px;\n}\n\n.unit{\n  font-size: 12px;\n  padding-left: 1px;\n  line-height: 24px;\n}\n\n.movie-info-right{\n  height: 300px;\n  position: relative;\n  margin-right: 30px;\n  margin-left: 300px;\n  margin-top: 70px;\n}\n\n.movie-info-detail-container{\n  width:1200px;\n  margin: 0 auto;\n}\n\n.movie-info-detail{\n  margin-top: 80px;\n}\n\n.main-content {\n  width: 730px;\n  float: left;\n  margin-bottom: 20px;\n}\n\n.crumbs-nav-container {\n  margin-bottom: 25px;\n  color: #333;\n}\n\n.crumbs-nav-container a{\n  color: inherit;\n}\n\n.el-tabs >>> .el-tabs__item{\n  font-size: 20px;\n}\n\n.tab-body{\n  margin-top: 40px;\n}\n\n.module{\n  position: relative;\n  margin-bottom: 60px;\n}\n\n.mod-title h2{\n  display: inline-block;\n  margin: 0;\n  padding: 0;\n  font-weight: 400;\n  font-size: 18px;\n  color: #333;\n  line-height: 18px;\n}\n\n.mod-title h2:before {\n  float: left;\n  content: \"\";\n  display: inline-block;\n  width: 4px;\n  height: 18px;\n  margin-right: 6px;\n  background-color: #409EFF;\n}\n\n.mod-content{\n  margin-top: 20px;\n  color: #333;\n}\n\n.mod-content .dra{\n  font-size: 14px;\n  line-height: 26px;\n}\n\n.more{\n  float: right;\n  cursor: pointer;\n  font-size: 14px;\n  color: #999;\n  padding-right: 14px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOCAYAAAASVl2WAAAABmJLR0QA/wD/AP+gvaeTAAAAv0lEQVQY013RTUpDQRAE4G8eghcR8ScgKCIugpJFjuIjqAvBc7jxj0muEnCjiIQQJOImB3GnbnpkfL1qpqqrunpSzvkDPxjhGdq2VarBF3q4wRHknP8RzvCEQzzguCalaHZwiwHecY6XogCf8TjFHh7Rh9Tx3AylIZa4TgWpSBuY4BSrYlFXKsr4bjrTW5HkJJa9SBW4jbtukmKxG5MDLOKqfzEPcB9LzQN8LSdfwxj7eMMlZvV/NFiPzFddEH4Bt5Y1mf3fnDwAAAAASUVORK5CYII=) no-repeat 100%;\n}\n\n.portrait{\n  margin-bottom: 6px;\n  width: 128px;\n  height: 170px;\n  overflow: hidden;\n}\n\n.portrait .default-img{\n  width: 128px;\n  height: 170px;\n}\n\n.pictures-list{\n  display: flex;\n}\n\n.pictures-list>.el-image:first-child{\n  width: 465px;\n  height: 258px;\n}\n\n.pictures-list .default-img{\n  border-style: none;\n  cursor: pointer;\n  width: 126px;\n  height: 126px;\n}\n\n.little-pictures{\n  width: 262px;\n  height: 262px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 10px;\n  justify-content: space-between;\n}\n\n#pane-pictures .little-pictures{\n  width: 100%;\n  justify-content: flex-start;\n  margin-left: 0;\n}\n\n#pane-pictures .default-img{\n  margin-top: 10px;\n  margin-left: 10px;\n}\n\n.user-avatar{\n  width: 50px;\n  height: 50px;\n  margin-right: 20px;\n}\n\n\n.main-header{\n  font-size: 16px;\n}\n\n.user-name{\n  margin-top: 2px;\n}\n\n</style>\n"]}]}